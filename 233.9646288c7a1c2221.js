"use strict";(self.webpackChunksesion21=self.webpackChunksesion21||[]).push([[233],{5233:(L,F,o)=>{o.r(F),o.d(F,{DashboardModule:()=>p});var b=o(6895),u=o(187),e=o(4650),_=o(287),T=o(4859),J=o(3336),y=o(6087),q=o(9264),I=o(3683);class f{constructor(t,r){this.authService=t,this.router=r}logout(){const t=localStorage.getItem("user");this.authService.logout(),this.router.navigate(["./auth/login"]).then(r=>{r||localStorage.setItem("user",t)})}}f.\u0275fac=function(t){return new(t||f)(e.Y36(_.e),e.Y36(u.F0))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-navbar"]],decls:37,vars:0,consts:[["fullscreen",""],["sidenav",""],["mat-list-item","",3,"click"],["mat-list-item","","routerLink","/dashboard/home",3,"click"],["mat-list-item","","routerLink","/dashboard/user",3,"click"],["color","primary"],["mat-icon-button","",3,"click"],[1,"title"],[1,"spacer"],["mat-button","",3,"click"],[1,"container","mt-5"]],template:function(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",null,1)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"mat-icon"),e._uU(6,"menu"),e.qZA(),e.TgZ(7,"mat-nav-list")(8,"a",2),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(9,"span"),e._uU(10,"Menu"),e.qZA()()()()(),e.TgZ(11,"mat-toolbar-row")(12,"mat-icon"),e._uU(13,"home"),e.qZA(),e.TgZ(14,"mat-nav-list")(15,"a",3),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(16,"span"),e._uU(17,"Home"),e.qZA()()()(),e.TgZ(18,"mat-toolbar-row")(19,"mat-icon"),e._uU(20,"add"),e.qZA(),e.TgZ(21,"mat-nav-list")(22,"a",4),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(23,"span"),e._uU(24,"Create User"),e.qZA()()()()(),e.TgZ(25,"mat-toolbar",5)(26,"button",6),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(27,"mat-icon"),e._uU(28,"menu"),e.qZA()(),e.TgZ(29,"span",7),e._uU(30,"Auth APP"),e.qZA(),e._UZ(31,"span",8),e.TgZ(32,"div")(33,"button",9),e.NdJ("click",function(){return r.logout()}),e._uU(34,"Logout"),e.qZA()()(),e.TgZ(35,"main",10),e._UZ(36,"router-outlet"),e.qZA()()}},dependencies:[u.lC,u.rH,T.lW,T.RK,J.Hw,y.Hk,y.Tg,q.JX,q.TM,I.Ye,I.rD],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]});class g{}function N(a,t,r,i,l,s,C){try{var U=a[s](C),d=U.value}catch(Q){return void r(Q)}U.done?t(d):Promise.resolve(d).then(i,l)}g.\u0275fac=function(t){return new(t||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-layout"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"app-navbar")},dependencies:[f],encapsulation:2});var w=o(5226),E=o.n(w);class m{canDeactivate(t){return function S(a){return function(){var t=this,r=arguments;return new Promise(function(i,l){var s=a.apply(t,r);function C(d){N(s,i,l,C,U,"next",d)}function U(d){N(s,i,l,C,U,"throw",d)}C(void 0)})}}(function*(){const{createUserFormComponent:r}=t;return!(!r.createForm.pristine&&!(yield E().fire({title:"\xbfEst\xe1s seguro de salir de la p\xe1gina?",text:"Tiene cambios sin guardar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"})).isConfirmed)})()}}m.\u0275fac=function(t){return new(t||m)},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});class Z{constructor(t){this.authService=t}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"))}}Z.\u0275fac=function(t){return new(t||Z)(e.Y36(_.e))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-home-page"]],decls:31,vars:2,consts:[[1,"row"],[1,"col-md-6"],["role","alert",1,"alert","alert-primary"],[1,"m-0","fw-b","fs-6"],[1,"row","row-cols-1","row-cols-lg-2","g-4"],[1,"col"],[1,"card","text-bg-primary","mb-3"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"list-group","mt-4"],[1,"list-group-item"],[1,"card","text-bg-warning","mb-3"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),e._uU(4),e.qZA()()(),e.TgZ(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),e._uU(10,"Tag"),e.qZA(),e.TgZ(11,"div",8)(12,"h5",9),e._uU(13,"Tareas nuevas"),e.qZA(),e.TgZ(14,"ul",10)(15,"li",11),e._uU(16,"Crear usuario de Juan"),e.qZA(),e.TgZ(17,"li",11),e._uU(18,"Crear usuario de Pepe"),e.qZA()()()()(),e.TgZ(19,"div",5)(20,"div",12)(21,"div",7),e._uU(22,"Tag"),e.qZA(),e.TgZ(23,"div",8)(24,"h5",9),e._uU(25,"Tareas en proceso"),e.qZA(),e.TgZ(26,"ul",10)(27,"li",11),e._uU(28,"Dar de baja a usuarios"),e.qZA(),e.TgZ(29,"li",11),e._uU(30,"Dar de baja a Maria"),e.qZA()()()()()()()()),2&t&&(e.xp6(4),e.AsE(" Buenos d\xedas ",r.user.name," ",r.user.lastname,". "))},encapsulation:2});var n=o(4006),A=o(9549),x=o(4144);function M(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function D(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function O(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function P(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El correo no es v\xe1lido"),e.qZA())}function k(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function Y(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}class v{constructor(t){this.fb=t,this.createForm=this.fb.group({name:["",n.kI.required],lastname:["",n.kI.required],username:["",n.kI.required],email:["",[n.kI.required,n.kI.email]],password:["",n.kI.required],address:["",n.kI.required]})}createUser(){this.createForm.invalid?this.createForm.markAllAsTouched():(E().fire({icon:"success",title:"Nice",text:`El usuario ${this.createForm.get("name")?.value} fue creado correctamente`}),this.createForm.reset())}isFieldInvalid(t){return this.createForm.controls[t].errors&&this.createForm.controls[t].touched}}v.\u0275fac=function(t){return new(t||v)(e.Y36(n.qu))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-create-user-form"]],decls:57,vars:9,consts:[["id","accordionPanelsStayOpenExample",1,"accordion","mb-4"],[1,"accordion-item"],["id","panelsStayOpen-headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#panelsStayOpen-collapseOne","aria-expanded","true","aria-controls","panelsStayOpen-collapseOne",1,"accordion-button"],["id","panelsStayOpen-collapseOne","aria-labelledby","panelsStayOpen-headingOne",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],["autocomplete","off",1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-5"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Jair","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Tello","formControlName","lastname"],[1,"col-md-2"],["matInput","","placeholder","pepe123","formControlName","username"],[1,"col-md-6"],["type","email","matInput","","placeholder","pep@example.com","formControlName","email"],["type","password","matInput","","placeholder","******","formControlName","password"],[1,"col-12"],["matInput","","placeholder","123 Calle San Lorenzo","formControlName","address"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2)(3,"button",3),e._uU(4," \xbfC\xf3mo implemente el canDeactivate en esta ruta? "),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"p"),e._uU(8," Cuando se encuentra en esta ruta y quiere navegar a otra aparecer\xe1 un alert que preguntar\xe1 si queremos abandonar esta p\xe1gina, este alert solo se ejecutar\xe1 si solo s\xed el usuario ha manipulado alg\xfan input es decir el "),e.TgZ(9,"code"),e._uU(10,"createForm.pristine = false"),e.qZA(),e._uU(11,' (dando a entender que ha querido registrar o est\xe1 queriendo registrar alg\xfan usuario); si el usuario no ha manipulado ning\xfan campo, ha presionado el bot\xf3n "Crear Usuario" no aparecer\xe1 el alert. '),e.qZA(),e.TgZ(12,"p"),e._uU(13," En la siguiente l\xednea ver\xe1 como el pristine del formulario cambia dependiendo si alg\xfan campo del formulario ha sido tocado: "),e.qZA(),e.TgZ(14,"p")(15,"code"),e._uU(16),e.qZA()()()()()(),e.TgZ(17,"form",6),e.NdJ("ngSubmit",function(){return r.createUser()}),e.TgZ(18,"div",7)(19,"mat-form-field",8)(20,"mat-label"),e._uU(21,"Nombre"),e.qZA(),e._UZ(22,"input",9),e.YNc(23,M,2,0,"mat-error",10),e.qZA()(),e.TgZ(24,"div",7)(25,"mat-form-field",8)(26,"mat-label"),e._uU(27,"Apellido"),e.qZA(),e._UZ(28,"input",11),e.YNc(29,D,2,0,"mat-error",10),e.qZA()(),e.TgZ(30,"div",12)(31,"mat-form-field",8)(32,"mat-label"),e._uU(33,"Username"),e.qZA(),e._UZ(34,"input",13),e.YNc(35,O,2,0,"mat-error",10),e.qZA()(),e.TgZ(36,"div",14)(37,"mat-form-field",8)(38,"mat-label"),e._uU(39,"Correo"),e.qZA(),e._UZ(40,"input",15),e.YNc(41,P,2,0,"mat-error",10),e.qZA()(),e.TgZ(42,"div",14)(43,"mat-form-field",8)(44,"mat-label"),e._uU(45,"Contrase\xf1a"),e.qZA(),e._UZ(46,"input",16),e.YNc(47,k,2,0,"mat-error",10),e.qZA()(),e.TgZ(48,"div",17)(49,"mat-form-field",8)(50,"mat-label"),e._uU(51,"Direcci\xf3n"),e.qZA(),e._UZ(52,"input",18),e.YNc(53,Y,2,0,"mat-error",10),e.qZA()(),e.TgZ(54,"div",17)(55,"button",19),e._uU(56," Crear Usuario "),e.qZA()()()),2&t&&(e.xp6(16),e.hij(" createForm.pristine = ",r.createForm.pristine," "),e.xp6(1),e.Q6J("formGroup",r.createForm),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("name")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("lastname")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("username")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("email")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("password")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("address")),e.xp6(2),e.Q6J("disabled",r.createForm.invalid))},dependencies:[b.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,T.lW,A.KE,A.hX,A.TO,x.Nt],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]});const B=["createUserFormComponent"];class h{}h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-user-page"]],viewQuery:function(t,r){if(1&t&&e.Gf(B,5),2&t){let i;e.iGM(i=e.CRH())&&(r.createUserFormComponent=i.first)}},decls:2,vars:0,consts:[["createUserFormComponent",""]],template:function(t,r){1&t&&e._UZ(0,"app-create-user-form",null,0)},dependencies:[v],encapsulation:2});const G=[{path:"",component:g,children:[{path:"home",component:Z},{path:"user",component:h,canDeactivate:[m]},{path:"**",redirectTo:"home"}]}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[u.Bz.forChild(G),u.Bz]});var H=o(898);class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[b.ez,c,n.UX,u.Bz,H.q]})}}]);