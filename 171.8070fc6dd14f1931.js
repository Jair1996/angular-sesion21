"use strict";(self.webpackChunksesion21=self.webpackChunksesion21||[]).push([[171],{5171:(j,y,o)=>{o.r(y),o.d(y,{DashboardModule:()=>d});var I=o(6895),l=o(187),e=o(4650),N=o(287),_=o(4859),x=o(3336),q=o(6338),E=o(9264),M=o(3683);class g{constructor(t,r){this.authService=t,this.router=r}logout(){const t=localStorage.getItem("user");this.authService.logout(),this.router.navigate(["./auth/login"]).then(r=>{r||localStorage.setItem("user",t)})}}g.\u0275fac=function(t){return new(t||g)(e.Y36(N.e),e.Y36(l.F0))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-navbar"]],decls:37,vars:0,consts:[["fullscreen",""],["sidenav",""],["mat-list-item","",3,"click"],["mat-list-item","","routerLink","/dashboard/home",3,"click"],["mat-list-item","","routerLink","/dashboard/user",3,"click"],["color","primary"],["mat-icon-button","",3,"click"],[1,"title"],[1,"spacer"],["mat-button","",3,"click"],[1,"container","mt-5"]],template:function(t,r){if(1&t){const i=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",null,1)(3,"mat-toolbar")(4,"mat-toolbar-row")(5,"mat-icon"),e._uU(6,"menu"),e.qZA(),e.TgZ(7,"mat-nav-list")(8,"a",2),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(9,"span"),e._uU(10,"Menu"),e.qZA()()()()(),e.TgZ(11,"mat-toolbar-row")(12,"mat-icon"),e._uU(13,"home"),e.qZA(),e.TgZ(14,"mat-nav-list")(15,"a",3),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(16,"span"),e._uU(17,"Home"),e.qZA()()()(),e.TgZ(18,"mat-toolbar-row")(19,"mat-icon"),e._uU(20,"add"),e.qZA(),e.TgZ(21,"mat-nav-list")(22,"a",4),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(23,"span"),e._uU(24,"Create User"),e.qZA()()()()(),e.TgZ(25,"mat-toolbar",5)(26,"button",6),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(2);return e.KtG(s.toggle())}),e.TgZ(27,"mat-icon"),e._uU(28,"menu"),e.qZA()(),e.TgZ(29,"span",7),e._uU(30,"Auth APP"),e.qZA(),e._UZ(31,"span",8),e.TgZ(32,"div")(33,"button",9),e.NdJ("click",function(){return r.logout()}),e._uU(34,"Logout"),e.qZA()()(),e.TgZ(35,"main",10),e._UZ(36,"router-outlet"),e.qZA()()}},dependencies:[l.lC,l.rH,_.lW,_.RK,x.Hw,q.Hk,q.Tg,E.JX,E.TM,M.Ye,M.rD],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]});class Z{}function P(a,t,r,i,m,s,A){try{var F=a[s](A),f=F.value}catch(K){return void r(K)}F.done?t(f):Promise.resolve(f).then(i,m)}Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-layout"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"app-navbar")},dependencies:[g],encapsulation:2});var S=o(5226),J=o.n(S);class c{canDeactivate(t){return function D(a){return function(){var t=this,r=arguments;return new Promise(function(i,m){var s=a.apply(t,r);function A(f){P(s,i,m,A,F,"next",f)}function F(f){P(s,i,m,A,F,"throw",f)}A(void 0)})}}(function*(){const{createUserFormComponent:r}=t;return!(!r.createForm.pristine&&!(yield J().fire({title:"\xbfEst\xe1s seguro de salir de la p\xe1gina?",text:"Tiene cambios sin guardar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"})).isConfirmed)})()}}c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});var u=o(3546),w=o(4850);class v{constructor(t){this.authService=t}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"))}}v.\u0275fac=function(t){return new(t||v)(e.Y36(N.e))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-home-page"]],decls:44,vars:2,consts:[[1,"row"],[1,"col-md-6"],[1,"row","row-cols-1","row-cols-lg-2","g-4"],[1,"col"],[2,"background-color","#3F51B5","color","#fff"],[2,"color","#fff"],["mat-button","","color","primary"],["mat-button","","color","warn"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content"),e._uU(4),e.qZA()()(),e.TgZ(5,"div",1)(6,"div",2)(7,"div",3)(8,"mat-card")(9,"mat-card-header",4)(10,"mat-card-subtitle",5),e._uU(11,"Tag"),e.qZA(),e.TgZ(12,"mat-card-title"),e._uU(13,"Tareas nuevas"),e.qZA()(),e._UZ(14,"mat-divider"),e.TgZ(15,"mat-card-content")(16,"mat-list")(17,"mat-list-item"),e._uU(18,"Maquetar Login"),e.qZA(),e._UZ(19,"mat-divider"),e.TgZ(20,"mat-list-item"),e._uU(21,"Dise\xf1ar Dashboard"),e.qZA()()(),e._UZ(22,"mat-divider"),e.TgZ(23,"mat-card-actions")(24,"button",6),e._uU(25,"Aceptar"),e.qZA(),e.TgZ(26,"button",7),e._uU(27,"Rechazar"),e.qZA()()()(),e.TgZ(28,"div",3)(29,"mat-card")(30,"mat-card-header",4)(31,"mat-card-subtitle",5),e._uU(32,"Tag"),e.qZA(),e.TgZ(33,"mat-card-title"),e._uU(34,"Tareas en proceso"),e.qZA()(),e._UZ(35,"mat-divider"),e.TgZ(36,"mat-card-content")(37,"mat-list")(38,"mat-list-item"),e._uU(39,"Maquetar Home Page"),e.qZA(),e._UZ(40,"mat-divider"),e.TgZ(41,"mat-list-item"),e._uU(42,"Maquetar 404 Page"),e.qZA()()(),e._UZ(43,"mat-divider"),e.qZA()()()()()),2&t&&(e.xp6(4),e.AsE("Buenos d\xedas ",r.user.name," ",r.user.lastname,"."))},dependencies:[_.lW,u.a8,u.hq,u.dn,u.dk,u.$j,u.n5,w.d,q.i$,q.Tg],encapsulation:2});var n=o(4006),b=o(9549),k=o(4144),U=o(1825);class C{constructor(){this.pristine=!0}}function H(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function B(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function Y(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function G(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El correo no es v\xe1lido"),e.qZA())}function O(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}function Q(a,t){1&a&&(e.TgZ(0,"mat-error"),e._uU(1,"El campo es requerido"),e.qZA())}C.\u0275fac=function(t){return new(t||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-expansion-panel"]],inputs:{pristine:"pristine"},decls:20,vars:1,consts:[["multi","",1,"example-headers-align"],[1,"accordion-body"]],template:function(t,r){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," Importante "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \xbfC\xf3mo implemente el canDeactivate en esta ruta? "),e.TgZ(7,"mat-icon"),e._uU(8,"info"),e.qZA()()(),e.TgZ(9,"div",1)(10,"p"),e._uU(11," Cuando se encuentra en esta ruta y quiere navegar a otra aparecer\xe1 un alert que preguntar\xe1 si queremos abandonar esta p\xe1gina, este alert solo se ejecutar\xe1 si solo s\xed el usuario ha manipulado alg\xfan input es decir el "),e.TgZ(12,"code"),e._uU(13,"createForm.pristine = false"),e.qZA(),e._uU(14,' (dando a entender que ha querido registrar o est\xe1 queriendo registrar alg\xfan usuario); si el usuario no ha manipulado ning\xfan campo, ha presionado el bot\xf3n "Crear Usuario" no aparecer\xe1 el alert. '),e.qZA(),e.TgZ(15,"p"),e._uU(16," En la siguiente l\xednea ver\xe1 como el pristine del formulario cambia dependiendo si alg\xfan campo del formulario ha sido tocado: "),e.qZA(),e.TgZ(17,"p")(18,"code"),e._uU(19),e.qZA()()()()()),2&t&&(e.xp6(19),e.hij(" createForm.pristine = ",r.pristine," "))},dependencies:[U.pp,U.ib,U.yz,U.yK,U.u4,x.Hw],styles:[".example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}"]});class T{constructor(t){this.fb=t,this.createForm=this.fb.group({name:["",n.kI.required],lastname:["",n.kI.required],username:["",n.kI.required],email:["",[n.kI.required,n.kI.email]],password:["",n.kI.required],address:["",n.kI.required]})}createUser(){this.createForm.invalid?this.createForm.markAllAsTouched():(J().fire({icon:"success",title:"Nice",text:`El usuario ${this.createForm.get("name")?.value} fue creado correctamente`}),this.createForm.reset())}isFieldInvalid(t){return this.createForm.controls[t].errors&&this.createForm.controls[t].touched}}T.\u0275fac=function(t){return new(t||T)(e.Y36(n.qu))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-create-user-form"]],decls:43,vars:9,consts:[[1,"mb-4"],[3,"pristine"],["autocomplete","off",1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-5"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Jair","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Tello","formControlName","lastname"],[1,"col-md-2"],["matInput","","placeholder","pepe123","formControlName","username"],[1,"col-md-6"],["type","email","matInput","","placeholder","pep@example.com","formControlName","email"],["type","password","matInput","","placeholder","******","formControlName","password"],[1,"col-12"],["matInput","","placeholder","123 Calle San Lorenzo","formControlName","address"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-expansion-panel",1),e.qZA(),e._UZ(2,"mat-divider",0),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return r.createUser()}),e.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,H,2,0,"mat-error",6),e.qZA()(),e.TgZ(10,"div",3)(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Apellido"),e.qZA(),e._UZ(14,"input",7),e.YNc(15,B,2,0,"mat-error",6),e.qZA()(),e.TgZ(16,"div",8)(17,"mat-form-field",4)(18,"mat-label"),e._uU(19,"Username"),e.qZA(),e._UZ(20,"input",9),e.YNc(21,Y,2,0,"mat-error",6),e.qZA()(),e.TgZ(22,"div",10)(23,"mat-form-field",4)(24,"mat-label"),e._uU(25,"Correo"),e.qZA(),e._UZ(26,"input",11),e.YNc(27,G,2,0,"mat-error",6),e.qZA()(),e.TgZ(28,"div",10)(29,"mat-form-field",4)(30,"mat-label"),e._uU(31,"Contrase\xf1a"),e.qZA(),e._UZ(32,"input",12),e.YNc(33,O,2,0,"mat-error",6),e.qZA()(),e.TgZ(34,"div",13)(35,"mat-form-field",4)(36,"mat-label"),e._uU(37,"Direcci\xf3n"),e.qZA(),e._UZ(38,"input",14),e.YNc(39,Q,2,0,"mat-error",6),e.qZA()(),e.TgZ(40,"div",13)(41,"button",15),e._uU(42," Crear Usuario "),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("pristine",r.createForm.pristine),e.xp6(2),e.Q6J("formGroup",r.createForm),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("name")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("lastname")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("username")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("email")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("password")),e.xp6(6),e.Q6J("ngIf",r.isFieldInvalid("address")),e.xp6(2),e.Q6J("disabled",r.createForm.invalid))},dependencies:[I.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,_.lW,w.d,b.KE,b.hX,b.TO,k.Nt,C],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]});const L=["createUserFormComponent"];class h{}h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-user-page"]],viewQuery:function(t,r){if(1&t&&e.Gf(L,5),2&t){let i;e.iGM(i=e.CRH())&&(r.createUserFormComponent=i.first)}},decls:2,vars:0,consts:[["createUserFormComponent",""]],template:function(t,r){1&t&&e._UZ(0,"app-create-user-form",null,0)},dependencies:[T],encapsulation:2});const X=[{path:"",component:Z,children:[{path:"home",component:v},{path:"user",component:h,canDeactivate:[c]},{path:"**",redirectTo:"home"}]}];class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[l.Bz.forChild(X),l.Bz]});var z=o(898);class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[I.ez,p,n.UX,l.Bz,z.q]})}}]);